<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>

        const MIN = 10;
        const MAX = 300;
        const COUNT = 10;
        const numbers = [];


        // Replace YOUR_API_KEY with your YouTube Data API key
        const API_KEY = "AIzaSyAbjDRiwBgSX2HcFDHfzIszJsKoj3st46I";

        // Replace VIDEO_ID with the ID of the YouTube video you want to retrieve metadata for
        const VIDEO_ID = "M-K7mxdN62M";

        // Define the URL of the API endpoint to retrieve the video metadata
        const API_URL = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${VIDEO_ID}&key=${API_KEY}`;

        // Make an HTTP GET request to the API endpoint using fetch
        fetch(API_URL)
            .then(response => response.json())
            .then(data => {
                // Extract the video metadata from the API response
                const metadata = data.items[0].snippet;
                const statistics = data.items[0].statistics;

                // Display the video metadata on the webpage
                document.getElementById('title').textContent = metadata.title;
                document.getElementById('description').textContent = metadata.description;
                document.getElementById('channelTitle').textContent = metadata.channelTitle;


                document.getElementById('likes').textContent = statistics.likeCount;
                document.getElementById('dislikes').textContent = statistics.dislikeCount;

                console.log(metadata);
                console.log(statistics);
                // Add more properties as needed
            })
            .catch(error => console.error(error));


        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                videoId: VIDEO_ID,
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange

                }
            });
        }

        function onPlayerReady(event) {
            setInterval(updateTime, 1);
            console.log("time alert");
        }
        var done = false;
        var count = 0;
        function onPlayerStateChange(event) {
            // if playing, calcula
            console.log("statechange alert %d %s", count, event.data);
            count = count + 1;
        }

        function displaySomething() {

        }

        function updateTime() {
            const time = player.getCurrentTime();
            if (time > 5 && time < 15) {
                document.getElementById('time').textContent = time;
                document.getElementById("video-metadata").style.visibility = "visible";
            }
            else {
                document.getElementById("video-metadata").style.visibility = "hidden";
            }


        }
    </script>




 <body>

    <div class="textbox">
        Hello world
        This is a textbox <br>
        And this will be a landing page<br>
        with some instruction about the experiement <br> <br>
        Let's start the experiment <a href="https://www.w3schools.com/" target="_self"> >> Link </a> 


        </div>


 

<div class="video-container">
    <div id="player"></div>
    <div id="changeVideo">!</div>
</div>


<div class="video-metadata">
        
    <div id="metadata-field">


        <h1 id="title"></h1>
        <p>channelTitle: <span id="channelTitle"></span></p>
        <p>Likes: <span id="likes"></span></p>
        <p>Dislikes: <span id="dislikes"></span></p>
        <p>Description: <span id="description"></span></p>


        
    </div>
</div>

 </body>
 </html>
